window.onload=function(){function l(){var f=document.getElementById("container");a=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,2e3),a.position.z=100,c=new THREE.Scene,b=new THREE.OrbitControls(a),b.minDistance=30,b.maxDistance=100,b.addEventListener("change",o),e=new THREE.PointLight(16777215),e.position.copy(a.position),c.add(a),a.add(e);var l=new THREE.JSONLoader,n=new THREE.MeshLambertMaterial({color:16777215});n.side=THREE.DoubleSide,h=new THREE.Group,l.load("assets/drone.json",function(a){g=new THREE.Mesh(a),g.position.set(0,-.5,1),g.material=n,h.add(g)}),l.load("assets/propeller.json",function(a){for(var b=0;b<k.length;b++)i=new THREE.Mesh(a),j.push(i),j[b].position.set(k[b].x,k[b].y,k[b].z),i.material=n,h.add(i)}),h.rotation.set(.5,-.5,0),c.add(h),d=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),d.setClearColor(0,0),d.setPixelRatio(window.devicePixelRatio),d.setSize(f.offsetWidth,f.offsetHeight),f.appendChild(d.domElement),window.addEventListener("resize",m,!1)}function m(){console.log(h),a.aspect=window.innerwidth/window.innerHeight,a.updateProjectionMatrix(),d.setSize(container.offsetWidth,container.offsetHeight)}function n(){requestAnimationFrame(n),b.update();for(var a=0;a<j.length;a++)a%2===0?j[a].rotation.y-=.05:j[a].rotation.y+=.05;o()}function o(){a.lookAt(c.position),d.render(c,a)}var a,b,c,d,e,g,h,i,j=[],k=[{x:18.7,y:-1.1,z:.3},{x:-18.7,y:-1.1,z:.3},{x:-9.3,y:-1.1,z:-15.8},{x:9.3,y:-1.1,z:-15.8},{x:-9.3,y:-1.1,z:16.3},{x:9.3,y:-1.1,z:16.3}];l(),n()};
